export const timetable = {
  Monday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Data Structures",
      subjectCode: "CS501",
      faculty: "Dr. Ramesh Sharma",
      room: "A-301",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Database Management Systems",
      subjectCode: "CS502",
      faculty: "Prof. Anita Desai",
      room: "A-302",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Operating Systems",
      subjectCode: "CS503",
      faculty: "Dr. Suresh Patel",
      room: "A-303",
      type: "Lecture"
    },
    {
      period: "Lunch",
      time: "12:00 - 01:00",
      subject: "Lunch Break",
      type: "Break"
    },
    {
      period: 4,
      time: "01:00 - 01:50",
      subject: "Data Structures Lab",
      subjectCode: "CS501L",
      faculty: "Dr. Ramesh Sharma",
      room: "Lab-1",
      type: "Lab"
    },
    {
      period: 5,
      time: "02:00 - 02:50",
      subject: "Data Structures Lab",
      subjectCode: "CS501L",
      faculty: "Dr. Ramesh Sharma",
      room: "Lab-1",
      type: "Lab"
    }
  ],
  Tuesday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Computer Networks",
      subjectCode: "CS504",
      faculty: "Prof. Kavita Singh",
      room: "A-304",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Software Engineering",
      subjectCode: "CS505",
      faculty: "Dr. Manoj Verma",
      room: "A-305",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Machine Learning",
      subjectCode: "CS506",
      faculty: "Dr. Priya Reddy",
      room: "A-306",
      type: "Lecture"
    },
    {
      period: "Lunch",
      time: "12:00 - 01:00",
      subject: "Lunch Break",
      type: "Break"
    },
    {
      period: 4,
      time: "01:00 - 01:50",
      subject: "Operating Systems",
      subjectCode: "CS503",
      faculty: "Dr. Suresh Patel",
      room: "A-303",
      type: "Lecture"
    },
    {
      period: 5,
      time: "02:00 - 02:50",
      subject: "Data Structures",
      subjectCode: "CS501",
      faculty: "Dr. Ramesh Sharma",
      room: "A-301",
      type: "Lecture"
    }
  ],
  Wednesday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Database Management Systems",
      subjectCode: "CS502",
      faculty: "Prof. Anita Desai",
      room: "A-302",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Software Engineering",
      subjectCode: "CS505",
      faculty: "Dr. Manoj Verma",
      room: "A-305",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Computer Networks",
      subjectCode: "CS504",
      faculty: "Prof. Kavita Singh",
      room: "A-304",
      type: "Lecture"
    },
    {
      period: "Lunch",
      time: "12:00 - 01:00",
      subject: "Lunch Break",
      type: "Break"
    },
    {
      period: 4,
      time: "01:00 - 01:50",
      subject: "DBMS Lab",
      subjectCode: "CS502L",
      faculty: "Prof. Anita Desai",
      room: "Lab-2",
      type: "Lab"
    },
    {
      period: 5,
      time: "02:00 - 02:50",
      subject: "DBMS Lab",
      subjectCode: "CS502L",
      faculty: "Prof. Anita Desai",
      room: "Lab-2",
      type: "Lab"
    }
  ],
  Thursday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Machine Learning",
      subjectCode: "CS506",
      faculty: "Dr. Priya Reddy",
      room: "A-306",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Operating Systems",
      subjectCode: "CS503",
      faculty: "Dr. Suresh Patel",
      room: "A-303",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Data Structures",
      subjectCode: "CS501",
      faculty: "Dr. Ramesh Sharma",
      room: "A-301",
      type: "Lecture"
    },
    {
      period: "Lunch",
      time: "12:00 - 01:00",
      subject: "Lunch Break",
      type: "Break"
    },
    {
      period: 4,
      time: "01:00 - 01:50",
      subject: "Computer Networks Lab",
      subjectCode: "CS504L",
      faculty: "Prof. Kavita Singh",
      room: "Lab-3",
      type: "Lab"
    },
    {
      period: 5,
      time: "02:00 - 02:50",
      subject: "Computer Networks Lab",
      subjectCode: "CS504L",
      faculty: "Prof. Kavita Singh",
      room: "Lab-3",
      type: "Lab"
    }
  ],
  Friday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Software Engineering",
      subjectCode: "CS505",
      faculty: "Dr. Manoj Verma",
      room: "A-305",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Machine Learning",
      subjectCode: "CS506",
      faculty: "Dr. Priya Reddy",
      room: "A-306",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Database Management Systems",
      subjectCode: "CS502",
      faculty: "Prof. Anita Desai",
      room: "A-302",
      type: "Lecture"
    },
    {
      period: "Lunch",
      time: "12:00 - 01:00",
      subject: "Lunch Break",
      type: "Break"
    },
    {
      period: 4,
      time: "01:00 - 01:50",
      subject: "ML Lab",
      subjectCode: "CS506L",
      faculty: "Dr. Priya Reddy",
      room: "Lab-4",
      type: "Lab"
    },
    {
      period: 5,
      time: "02:00 - 02:50",
      subject: "ML Lab",
      subjectCode: "CS506L",
      faculty: "Dr. Priya Reddy",
      room: "Lab-4",
      type: "Lab"
    }
  ],
  Saturday: [
    {
      period: 1,
      time: "09:00 - 09:50",
      subject: "Computer Networks",
      subjectCode: "CS504",
      faculty: "Prof. Kavita Singh",
      room: "A-304",
      type: "Lecture"
    },
    {
      period: 2,
      time: "10:00 - 10:50",
      subject: "Operating Systems",
      subjectCode: "CS503",
      faculty: "Dr. Suresh Patel",
      room: "A-303",
      type: "Lecture"
    },
    {
      period: 3,
      time: "11:00 - 11:50",
      subject: "Sports/Extra-curricular",
      type: "Activity"
    }
  ]
};

export const getTodaySchedule = () => {
  const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
  const today = days[new Date().getDay()];
  return {
    day: today,
    classes: timetable[today] || []
  };
};

export const getCurrentClass = () => {
  const now = new Date();
  const currentTime = now.getHours() * 60 + now.getMinutes();
  const todaySchedule = getTodaySchedule().classes;

  for (let classItem of todaySchedule) {
    if (!classItem.time || classItem.type === 'Break') continue;
    const [start] = classItem.time.split(' - ');
    const [startHour, startMin] = start.split(':').map(Number);
    const classStartTime = startHour * 60 + startMin;

    if (currentTime < classStartTime) {
      return classItem;
    }
  }
  return null;
};
